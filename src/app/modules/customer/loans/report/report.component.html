<div id="loan-history" class="animate__animated animate__fadeInUp"
[ngClass]="{'no-margin--top':totalLoans.length==0}">
<div class="heading">
    <h3>Loan History</h3>
</div>
<app-table>
    <ng-container slot="filter">
        <div id="filters">
            <div class="item" [ngClass]="{'item--active':(activeFilter$|async)==''}"
                (click)="changeFilter('')">All</div>
            <div class="item" [ngClass]="{'item--active':(activeFilter$|async)=='Processing'}"
                (click)="changeFilter('Processing')">Processing</div>
            <div class="item" [ngClass]="{'item--active':(activeFilter$|async)=='Defaulting'}"
                (click)="changeFilter('Defaulting')">Defaulting</div>
            <div class="item" [ngClass]="{'item--active':(activeFilter$|async)=='NotQualified'}"
                (click)="changeFilter('NotQualified')">Declined</div>
        </div>
    </ng-container>
    <ng-container slot="header">
        <tr>
            <th>Date</th>
            <th>Amount</th>
            <th>Loan Product</th>
            <th>Tenure</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </ng-container>
    <ng-container slot="body" *ngIf="loans as data">
        <ng-container *ngIf="data.rows.length==0">
            <div class="no-data">
                <span class="material-icons material-icons-outlined">
                    info
                </span>
                <h3>No data available</h3>
            </div>
        </ng-container>
        <ng-container *ngIf="data.rows.length>0">
            <tr *ngFor="let row of data.rows;trackBy:trackByFn">
                <td>{{row.requestDate | date :'MMMM d, y'}}</td>
                <td>{{row.amount|currency:'â‚¦'}}</td>
                <td>{{row.loanProduct}}</td>
                <td>{{row.tenure}} {{row.denominator}}</td>
                <td>
                    <app-badge [color]="getLoanStatusColor(row.requestStatus)">{{row.requestStatus}}
                    </app-badge>
                </td>
                <td>
                    <app-button [class]="'widget_button--small'" (onClick)="selectLoanEvent(row.id)"
                        fieldClass="no-margin">
                        <ng-container slot="button">View Details</ng-container>
                    </app-button>
                </td>
            </tr>
        </ng-container>
    </ng-container>
    <ng-container slot="body" *ngIf="!loans">
        <div class="no-data">
            <span class="material-icons material-icons-outlined">
                info
            </span>
            <h3>No data available</h3>
        </div>
    </ng-container>
    <ng-container slot="pagination">
        <app-pagination [totalCount]="loans?.count||0" [maxSize]="10"
            [pagingChangeSubject]="pagingSubject"></app-pagination>
    </ng-container>
</app-table>
</div>